# 2019년 하반기 서버개발자 코딩테스트

인터넷뱅킹 이용 현황 정보 제공 API 개발
: 인터넷 이용현황과 이용행태 정보를 제공하는 서비스를 개발하고자 합니다. 주어진 데이터셋을 기반으로 아래
기능명세에 대한 API 를 개발하고 Unit Test 코드를 개발하세요.
### 프로젝트 개발 환경

```
JAVA - JDK1.8_0_121
SPRING FRAMEWORK - 5.1.19.REALEASE(BOOT 2.5.8.RELEASE)
Gradle - 5.6.2
DATABASE H2 - 1.4.199
IntelliJ - 2019.2.2 
 - ECLIPSE(STS) 대체 가능
```

### H2 DB 설치 하기

H2는 프로젝트 DB로 로컬PC 또는 연동 서버에 설치가 필요

```
환경에 맞는 설치 파일의 URL에서 다운 받은 후 가이드에 따라 설치 진행
http://www.h2database.com/html/download.html
* 별도 콘솔을 제공하여 타 데이터 베이스를 다뤄 본 개발자라면 충분히 활용 가능
```

### 빌드방법

```
1. 프로젝트 위치에서 grade build
2. IDE TOOL을 통해 빌드

빌드 후 실행 방법
1.WINDOW > CMD 커맨드 실행 > java -jar 빌드명.jar
2.LINUX/UNIX > java -jar 빌드명.jar
```

### 문제해결 전략
```
필수문제:

• 데이터 파일(서울시 인터넷뱅킹 이용률 및 이용기기 통계 데이터)에서 각 레코드를 데이터베이스에
저장하는 코드를 구현하세요.
 > openCSV 오픈소스 라이브러리를 활용하여 쉽게 읽어 올 수 있었으며 데이터들은 DB에 넣기 쉽게 가공하여 
  접속 기기 테이블과, 년도별 이용률 테이블, 기기및 년도별 이용률 테이블에 저장하도록 진행하였습니다.

• 인터넷뱅킹 서비스 접속 기기 목록을 출력하는 API 를 개발하세요.
 > GET 방식으로 호출 하여 JPA에서 제공해주는 기본 함수를 활용하여 접속 기기 테이블에서 조회 진행 

• 각 년도별로 인터넷뱅킹을 가장 많이 이용하는 접속기기를 출력하는 API 를 개발하세요.
 > queryDsl를 활용하여 진행 하려고 했으나 인라인뷰(FROM절 서비쿼리)를 작성하지 못하는 이슈를 뒤늦게 
  알고서야 급하게 nativeQuery로 진행하게 되었습니다. (GET방식으로 조회)

• 특정 년도를 입력받아 그 해에 인터넷뱅킹에 가장 많이 접속하는 기기 이름을 출력하세요.
 > REST API 형태로 구성 GET 방식으로 년도 정보를 입력받아서 queryDsl로 작성하여 데이터 호출 진행 

• 디바이스 아이디를 입력받아 인터넷뱅킹에 접속 비율이 가장 많은 해를 출력하세요.
 > REST API 형태로 구성 GET 방식으로 디바이스 아이디 정보를 입력받아서 queryDsl로 작성하여 데이터 호출 진행  

옵션문제:

• 인터넷뱅킹 접속 기기 ID 를 입력받아 2019 년도 인터넷뱅킹 접속 비율을 예측하는 API 를 개발하세요.
 > 아파치 재단에서 제공하는 common-math3 라이브러리에서 단순 순회 함수를 활용하여 진행하였습니다.
  하지만 예상과 달리 데이터를 넣어 결과 예측 값에 제한을 주는 옵션이 없어 스마트폰의 이용률이 100%가 넘어가는 이슈가 
  발생하여 개인적으로 그래프 모양을 그려 본 후 예측 값 계산식(E = R + N(1+ X/100) R > N 일때)을 도출하여 진행하였습니다. 

추가 제약사항(옵션):

• 성능을 고려하여 10000 TPS 이상의 요청을 받을 수 있는 아키텍처에 대해서 고민해서 API 개발 시 반영해주세요. 
  (오픈 소스나 여타 다른 SW 가 필요할 경우 면접 시에 의견을 말씀해주세요.)
 > SPRING FRAMEWORK5의 WEBFLUX를 활용하여 비동기, non-blocking 방식과 RDBMS를 async방식으로 연동 가능하게 
  해주는 R2DBC(H2지원)를 활용하려고 했었습니다.
  기본 로직은 까지는 구성했지만 WEBFLUX 활용 시 글로벌 예외처리 부분에서 제대로 해결하지 못하고 원복을 하게 되어 
  적용 하지 못해서 아쉬움으로 남아 있습니다.(일부 소스가 주석으로 남아 있습니다.)

• API 인증을 위해 JWT(Json Web Token)를 이용해서 Token 기반 API 인증 기능을 개발하고 각 API 호출 시에 HTTP Header에 
  발급받은 토큰을 가지고 호출하세요.
 > JWT를 활용해 본적이 없어 시간적인 여유가 있었다면 공부를 하면 진행 하려고 했지만 부족한 실력 때문인지 다른 부분에서 
  시간을 많이 할애하여 구현하지 못했습니다. 하지만 과제가 마무리 되더라도 개인적으로 추가 개발 예정입니다.

```
